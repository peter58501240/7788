<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ³¢è˜­ä¸‰åŸè–èª•éŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            -webkit-tap-highlight-color: transparent; 
            overscroll-behavior-y: none; 
            background-color: #f9fafb;
        }
        
        /* Custom Scrollbar Hiding */
        .scroll-hide::-webkit-scrollbar { display: none; }
        .scroll-hide { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Navigation Styles */
        .active-tab { 
            border-bottom: 3px solid #dc2626; 
            color: #dc2626; 
            font-weight: 700; 
            background-color: #fef2f2; 
        }
        .nav-active { 
            color: #dc2626; 
            font-weight: bold; 
        }
        .nav-inactive { 
            color: #9ca3af; 
        }
        
        /* Safe Area for iPhone Home Indicator */
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
        
        header { 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03); 
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        
        /* Card Hover Effects */
        .interactive-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .interactive-card:active {
            transform: scale(0.98);
        }

        /* Currency Input Styles */
        .currency-input {
            transition: all 0.2s;
        }
        .currency-input:focus-within {
            border-color: #dc2626;
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 pb-28 select-none">

    <!-- Header (Fixed) -->
    <header class="fixed top-0 left-0 right-0 bg-white z-50">
        <!-- Top Bar -->
        <div class="px-4 py-3 bg-gradient-to-r from-red-800 to-red-700 text-white flex justify-between items-center shadow-md">
            <div class="flex items-center">
                <div class="mr-3 text-2xl filter drop-shadow-md">ğŸ‡µğŸ‡±</div>
                <div>
                    <h1 class="text-lg font-bold tracking-wide text-white">æ³¢è˜­ä¸‰åŸè–èª•éŠ</h1>
                    <p class="text-xs text-red-100 font-medium">12/25 - 12/31 (å…‹æ‹‰ç§‘å¤«/è¯æ²™/å¼—ç¾…èŒ¨ç“¦å¤«)</p>
                </div>
            </div>
        </div>
        
        <!-- Date Slider -->
        <div class="flex overflow-x-auto whitespace-nowrap bg-white border-b scroll-hide px-2 py-1 shadow-sm" id="dateTabs">
            <!-- Tabs will be injected by JS -->
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 pt-36 max-w-md relative min-h-screen">
        
        <div id="scheduleView" class="animate-fade-in pb-4"></div>
        <div id="restaurantView" class="hidden animate-fade-in pb-4"></div>
        <div id="currencyView" class="hidden animate-fade-in pb-4"></div>
        <div id="asianRestaurantView" class="hidden animate-fade-in pb-4"></div>
        <div id="supermarketView" class="hidden animate-fade-in pb-4"></div>

    </main>

    <!-- Bottom Navigation (Fixed) -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t border-gray-200 flex justify-between items-center py-2 pb-safe z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] text-[10px] sm:text-xs px-1">
        <button id="nav-schedule" class="flex-1 flex flex-col items-center py-2 nav-active active:scale-95 transition-transform">
            <i class="fas fa-calendar-alt text-xl mb-1"></i>
            <span>æ¯æ—¥è¡Œç¨‹</span>
        </button>
        <button id="nav-restaurant" class="flex-1 flex flex-col items-center py-2 nav-inactive active:scale-95 transition-transform">
            <i class="fas fa-utensils text-xl mb-1"></i>
            <span>ç•¶æ—¥ç¾é£Ÿ</span>
        </button>
        <!-- New Currency Button -->
        <button id="nav-currency" class="flex-1 flex flex-col items-center py-2 nav-inactive active:scale-95 transition-transform">
            <i class="fas fa-calculator text-xl mb-1"></i>
            <span>åŒ¯ç‡æ›ç®—</span>
        </button>
        <button id="nav-asianFood" class="flex-1 flex flex-col items-center py-2 nav-inactive active:scale-95 transition-transform">
            <i class="fas fa-globe-asia text-xl mb-1"></i>
            <span>äºæ´²é¤å»³</span>
        </button>
        <button id="nav-supermarket" class="flex-1 flex flex-col items-center py-2 nav-inactive active:scale-95 transition-transform">
            <i class="fas fa-shopping-basket text-xl mb-1"></i>
            <span>äºæ´²è¶…å¸‚</span>
        </button>
    </nav>

    <!-- Floating Action Button for Map -->
    <a href="https://www.google.com/maps/search/?api=1&query=Poland" target="_blank" id="floatMapBtn" class="fixed bottom-24 right-5 bg-red-700 text-white w-14 h-14 rounded-full shadow-2xl hover:bg-red-800 transition transform active:scale-90 flex items-center justify-center z-40 opacity-90 border-2 border-white">
        <i class="fas fa-map-marked-alt text-xl"></i>
    </a>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ---------------- Data ----------------
            const itinerary = [
                {
                    date: "12/25", day: "é€±å››", city: "KrakÃ³w",
                    events: [
                        { time: "16:41", title: "æŠµé”å…‹æ‹‰ç§‘å¤«", icon: "fa-train", desc: "å¾å¸ƒæ‹‰æ ¼æ­ç«è»ŠæŠµé” KrakÃ³w GÅ‚Ã³wny â†’ é£¯åº— Check-in", note: "å»ºè­°æ­ tram (é›»è»Š) æˆ–èµ°è·¯ï¼Œè»Šç«™é›¢èˆŠåŸå¾ˆè¿‘ã€‚è»Šç«™è¶…å¸‚å¯è²·æ°´ã€‚" },
                        { time: "18:00", title: "Rynek GÅ‚Ã³wnyä¸­å¤®é›†å¸‚å»£å ´", icon: "fa-tree", desc: "åƒè§€è–æ¯è–æ®¿ (St Mary's Basilica)ï¼Œæ¼«æ­¥å»£å ´", note: "è–èª•å¸‚é›†ã€‚è–èª•ç¯€ç•¶å¤©å•†åº—å¤šä¼‘æ¯ï¼Œä½†å¸‚é›†æ”¤ä½æœƒé–‹" },
                        { time: "æ™šé¤", title: "è–èª•å¤œæ™šé¤", icon: "fa-utensils", desc: "Morskie Oko (æ³¢è˜­å±±å€èœ) æˆ– GoÅ›cinna Chata", note: "ç¬¬ä¸€æ™šé©åˆæ°£æ°›ä½³çš„å‚³çµ±é¤å»³ï¼Œå‹™å¿…é ç´„" },
                        { time: "20:00", title: "å¤œéŠç´¡ç¹”æœƒé¤¨", icon: "fa-moon", desc: "åœ¨ Cloth Hall è¿´å»Šæ•£æ­¥ï¼Œæ‹é»ç‡ˆå¾Œçš„è–ç‘ªè‰æ•™å ‚", note: "åƒé£½å¾Œæ•£æ­¥æ¶ˆåŒ–ï¼Œå°±åœ¨é¤å»³é™„è¿‘ï¼Œä¸ç”¨æ­è»Š" }
                    ],
                    restaurants: [
                        { name: "Morskie Oko", type: "æ™šé¤é¦–é¸", price: "zÅ‚ 60-100", rate: "4.7 (7,800+ è©•è«–)", desc: "é«˜åœ°äººé¢¨æ ¼æœ¨é€ é¤å»³ï¼Œæ°£æ°›æ¥µä½³ï¼Œå¿…é»é…¸æ¹¯ã€é¤ƒå­", addr: "Plac SzczepaÅ„ski 8, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=Morskie+Oko+Krakow" },
                        { name: "GoÅ›cinna Chata", type: "æ™šé¤å‚™é¸1", price: "zÅ‚ 50-90", rate: "4.5 (3,200+ è©•è«–)", desc: "å‚³çµ±æ³¢è˜­é„‰æ‘èœï¼Œæº«é¦¨èˆ’é©ï¼Œå°±åœ¨èˆŠåŸå€", addr: "SÅ‚awkowska 10, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=Goscinna+Chata+Krakow" },
                        { name: "Pod Baranem", type: "æ™šé¤å‚™é¸2", price: "zÅ‚ 70-120", rate: "4.6 (2,600+ è©•è«–)", desc: "å°±åœ¨ç“¦ç¶­çˆ¾åŸå ¡æ—ï¼Œè©•åƒ¹æ¥µé«˜çš„å‚³çµ±æ³¢è˜­èœï¼Œé©åˆå®¶åº­èšé¤", addr: "ÅšwiÄ™tej Gertrudy 21, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=Pod+Baranem+Krakow" }
                    ]
                },
                {
                    date: "12/26", day: "é€±äº”", city: "KrakÃ³w",
                    events: [
                        { time: "09:00", title: "ç“¦ç¶­çˆ¾ä¸»æ•™å ‚ (Cathedral)", icon: "fa-church", desc: "åƒè§€æ³¢è˜­åœ‹ç‹åŠ å†•èˆ‡é•·çœ ä¹‹åœ°ï¼Œå¿…çœ‹é½Šæ ¼è’™ç‰¹é˜", note: "æ•™å ‚å…è²»ï¼Œä½†åƒè§€çš‡å®¶å¢“ç©´èˆ‡é˜å¡”éœ€è³¼ç¥¨" },
                        { time: "10:30", title: "ç“¦ç¶­çˆ¾åŸå ¡åœ°ä¸‹è·¯ç·š", icon: "fa-dungeon", desc: "Wawel Underground: Crown Treasury æˆ– Lost Wawel", note: "éå¸¸ç²¾å½©çš„è€ƒå¤èˆ‡æ­·å²å±•ï¼Œæ¨è–¦ 'Lost Wawel' è·¯ç·š" },
                        { time: "12:30", title: "çŒ¶å¤ªå€åˆé¤", icon: "fa-utensils", desc: "å¾åŸå ¡æ­¥è¡Œè‡³ Kazimierz å€ç”¨é¤", note: "Hamsa (çŒ¶å¤ªèœ) æˆ– Zapiekanka (é•·æ¢æŠ«è–©)" },
                        { time: "14:30", title: "è¾›å¾·å‹’å·¥å» ", icon: "fa-history", desc: "åƒè§€äºŒæˆ°æ­·å²å±•è¦½ (éœ€æå‰é ç´„)", note: "å¾çŒ¶å¤ªå€æ­¥è¡Œéæ©‹æˆ–æ­ Tram 3/24 åˆ° Plac BohaterÃ³w Getta" },
                        { time: "æ™šé¤", title: "æ™šé¤ï¼šPod Wawelem", icon: "fa-utensils", desc: "å‰å¾€äº«ç”¨è‘—åçš„å·¨ç„¡éœ¸ç‚¸è±¬æ’èˆ‡å•¤é…’", note: "â˜… å·²è¨‚ä½ã€‚å°±åœ¨åŸå ¡è…³ä¸‹ï¼Œä»½é‡éå¸¸å¤§è«‹ç•™æ„ã€‚" },
                        { time: "20:00", title: "çŒ¶å¤ªå€å°é…Œ", icon: "fa-glass-cheers", desc: "Alchemia æˆ– Singeraï¼Œæ„Ÿå—æ³¢è˜­ç¨ç‰¹é…’å§æ°›åœ", note: "é€™å€æ™šä¸Šæ°£æ°›å¾ˆå¥½ï¼Œå°±åœ¨ Plac Nowy æ—ï¼Œå–æ¯ä¼ç‰¹åŠ æˆ–ç†±ç´…é…’" }
                    ],
                    restaurants: [
                        { name: "Pod Wawelem", type: "â˜… å·²è¨‚ä½", price: "zÅ‚ 40-70", rate: "4.5 (13,000+ è©•è«–)", desc: "åŸå ¡è…³ä¸‹ï¼Œä»¥ã€Œå·¨ç„¡éœ¸ç‚¸è±¬æ’ã€è·Ÿå•¤é…’èåï¼Œä»½é‡é©šäººï¼Œæœå‹™ç”Ÿç©¿è‘—å‚³çµ±æœé£¾", addr: "Å›w. Gertrudy 26-29, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=Pod+Wawelem+Krakow" },
                        { name: "Zazie Bistro", type: "æ™šé¤å‚™é¸1", price: "zÅ‚ 60-120", rate: "4.8 (4,100+ è©•è«–)", desc: "ç±³å…¶æ—æ¨è–¦ï¼Œä½æ–¼çŒ¶å¤ªå€ï¼ŒCPå€¼è¶…é«˜çš„æ³•å¼æ–™ç†", addr: "JÃ³zefa 34, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=Zazie+Bistro+Krakow" },
                        { name: "Restauracja Starka", type: "æ™šé¤å‚™é¸2", price: "zÅ‚ 60-100", rate: "4.7 (3,900+ è©•è«–)", desc: "è‡ªè£½ä¼ç‰¹åŠ èåï¼Œç‡‰è‚‰æ–™ç†å¾ˆå¼·ï¼Œæ°£æ°›ç†±é¬§", addr: "JÃ³zefa 14, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=Restauracja+Starka+Krakow" }
                    ]
                },
                {
                    date: "12/27", day: "é€±å…­", city: "KrakÃ³w",
                    events: [
                        { time: "09:30", title: "è€å…‹èŠå¸•èŒ²å¸‚é›† (Stary Kleparz)", icon: "fa-shopping-basket", desc: "ã€æœ€é“åœ°çš„æ³¢è˜­æ—¥å¸¸ã€‘è²·ä¼´æ‰‹ç¦®è–åœ°ï¼šOscypek (çƒ¤ç¾Šä¹³é…ª)ã€æ–°é®®è“æœã€æ³¢è˜­èœ‚èœœã€‚ä½æ–¼èˆŠåŸåŒ—é–€èµ°è·¯ 5 åˆ†é˜ã€‚", note: "é€±å…­é€šå¸¸ç‡Ÿæ¥­åˆ°ä¸‹åˆ 2-3 é»ï¼Œæ—©ä¸Šæœ€ç†±é¬§" },
                        { time: "11:30", title: "æ•£æ­¥è‡³å¡é½Šç±³æ—¥å€ (Kazimierz)", icon: "fa-walking", desc: "å¾å¸‚é›†æ•£æ­¥ç©¿è¶ŠèˆŠåŸï¼Œæˆ–æ˜¯æ­ Tram 3/24 å¾€å—ã€‚é€±å…­çš„çŒ¶å¤ªå€éå¸¸ç†±é¬§ï¼Œå……æ»¿æ³¢å¸Œç±³äºæ°›åœã€‚", note: "é€”ç¶“èˆŠåŸå€æ™‚å¯ç¨å¾®åœç•™æ‹ç…§" },
                        { time: "12:30", title: "çŒ¶å¤ªå€åˆé¤", icon: "fa-utensils", desc: "æ¨è–¦ï¼šCheder (ä»¥è‰²åˆ—å’–å•¡)ã€Hamsa (æ—©åˆé¤ç›¤) æˆ– PHO EVER (è¶Šå—æ²³ç²‰/çå¥¶)ã€‚", note: "é€™å¹¾å®¶éƒ½åœ¨çŒ¶å¤ªå€ï¼Œæ°£æ°›éƒ½å¾ˆæ£’ï¼Œçœ‹ç•¶ä¸‹æƒ³åƒä»€éº¼æ±ºå®šå³å¯" },
                        { time: "14:00", title: "å’–å•¡å»³ Chill", icon: "fa-coffee", desc: "æ¨è–¦ Alchemia (ç…‰é‡‘è¡“å£«é¢¨æ ¼) æˆ– Singer (ç¸«ç´‰æ©Ÿæ¡Œå­)ï¼Œæ„Ÿå—ç¨ç‰¹å»¢å¢Ÿç¾å­¸ã€‚", note: "åƒé£½å¾Œæ‰¾å®¶åº—ç™¼å‘†ï¼Œé»æ¯å’–å•¡æˆ–èª¿é…’" },
                        { time: "15:30", title: "MOCAK ç•¶ä»£è—è¡“é¤¨", icon: "fa-palette", desc: "ã€è¦–è¦ºç³»æ‰“å¡é»ã€‘å¿…æ‹é–€å£å·¨å¤§çš„ã€ŒBetweenã€å­—æ¯è£ç½®ã€‚å±•è¦½é€šå¸¸å¾ˆæœ‰è¦–è¦ºè¡æ“ŠåŠ›ã€‚", note: "å¾çŒ¶å¤ªå€èµ°éã€Œæ„›ä¹‹æ©‹ã€å³é”ã€‚å°±åœ¨è¾›å¾·å‹’å·¥å» éš”å£ã€‚" },
                        { time: "17:30", title: "æ™šé¤ï¼šäºæ´²èƒƒæ™‚é–“", icon: "fa-utensils", desc: "URARA SUSHI (æ—¥æ–™) æˆ– KuKu (å°ç£æ–™ç†)", note: "æ—…ç¨‹ä¸­æ®µå¦‚æœæƒ³å¿µäºæ´²å‘³ï¼Œé€™å…©å®¶éƒ½åœ¨èˆŠåŸå€ï¼Œè©•åƒ¹æ¥µé«˜" }
                    ],
                    restaurants: [
                        { name: "URARA SUSHI", type: "æ™šé¤é¦–é¸", price: "zÅ‚ 50-100", rate: "4.7 (1,500+ è©•è«–)", desc: "èˆŠåŸå€å…§çš„é«˜å“è³ªæ—¥æ–™ï¼Œæœ‰ç†±æ¹¯éºµèˆ‡å£½å¸ï¼Œæ’«æ…°äºæ´²èƒƒçš„å¥½åœ°æ–¹", addr: "ÅšwiÄ™tego Tomasza 19, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=Urara+Sushi+Krakow" },
                        { name: "KuKu Taiwanese Noodle", type: "æ™šé¤å‚™é¸ (å°ç£å‘³)", price: "zÅ‚ 40-70", rate: "4.6 (å¥½è©•)", desc: "æ­£å®—å°ç£å‘³ï¼é¹¹é…¥é›ã€ç‰›è‚‰éºµã€çç å¥¶èŒ¶ï¼Œæƒ³å®¶æ™‚å¿…å»", addr: "Szewska 21, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=KuKu+Taiwanese+Noodle+Krakow" },
                        { name: "PHO EVER (çå¥¶/æ²³ç²‰)", type: "åˆ/æ™šé¤å‚™é¸", price: "zÅ‚ 40-60", rate: "4.6 (3,000+ è©•è«–)", desc: "ä½æ–¼çŒ¶å¤ªå€ï¼Œæƒ³å–çå¥¶ã€åƒPokeç¢—æˆ–ç†±é¨°é¨°è¶Šå—æ²³ç²‰çš„å¥½å»è™•", addr: "DajwÃ³r 25c, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=PHO+EVER+Dajwor+25c+Krakow" },
                        { name: "Cheder", type: "åˆé¤æ¨è–¦", price: "zÅ‚ 30-60", rate: "4.7 (1,800+ è©•è«–)", desc: "çŒ¶å¤ªæ›¸é¦™å’–å•¡é¤¨ï¼Œæ‹›ç‰Œæ˜¯ä»¥è‰²åˆ—å’–å•¡(åŠ è³è”»)å’ŒPitaé¤…", addr: "JÃ³zefa 36, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=Cheder+Krakow" },
                        { name: "Hamsa Hummus & Happiness", type: "åˆé¤æ¨è–¦", price: "zÅ‚ 40-80", rate: "4.5 (4,200+ è©•è«–)", desc: "è‘—åçš„ä¸­æ±æ–™ç†ï¼Œæ—©åˆé¤ç›¤è±ç››å¥½åƒï¼Œæ°£æ°›æ˜äº®", addr: "Szeroka 2, KrakÃ³w", url: "https://www.google.com/maps/search/?api=1&query=Hamsa+Krakow" }
                    ]
                },
                {
                    date: "12/28", day: "é€±æ—¥", city: "Kra â†’ War",
                    events: [
                        { time: "07:30", title: "æœ€å¾Œæ•£æ­¥", icon: "fa-bread-slice", desc: "è²· Obwarzanek (è—è‰²å°è»ŠéºµåŒ…åœˆ) ç•¶æ—©é¤", note: "ç°¡å–®é€›é€›èˆŠåŸæ—©æ™¨" },
                        { time: "09:34", title: "ç«è»Šå¾€è¯æ²™", icon: "fa-train", desc: "09:34 KrakÃ³w â†’ 13:52 Warsaw Centralna", note: "æ­ Tram è‡³è»Šç«™æˆ– Bolt (å¦‚æœ‰å¤§è¡Œæ)" },
                        { time: "14:15", title: "æŠµé”é£¯åº—", icon: "fa-hotel", desc: "Mariensztat 8 Hotel (é èˆŠåŸ)", note: "å¾ä¸­å¤®è»Šç«™æ­ Bus 175/128/116 ç­‰åˆ°è€åŸé™„è¿‘ï¼Œæˆ–æ­ Bolt" },
                        { time: "14:30", title: "åˆé¤ï¼šSpecjaÅ‚y", icon: "fa-utensils", desc: "SpecjaÅ‚y Regionalne äº«ç”¨æ³¢è˜­é¤ƒå­/é…¸æ¹¯", note: "å°±åœ¨çš‡å®¶å¤§é“ä¸Šï¼Œå¾é£¯åº—æ­¥è¡Œå¯é”" },
                        { time: "16:00", title: "å·´å·´ååŸç‰†/é»ç‡ˆ", icon: "fa-lightbulb", desc: "å‰›å¥½é‡åˆ°è–èª•ç‡ˆé£¾äº®ç‡ˆï¼Œæœ€ç¾æ™‚æ®µ", note: "æ²¿è‘—çš‡å®¶å¤§é“èµ°åˆ°è€åŸå»£å ´" },
                        { time: "æ™šé¤", title: "Zapiecek", icon: "fa-utensils", desc: "é€£é–ä½†å¥½åƒçš„æ³¢è˜­é¤ƒå­åº—", note: "åº—å“¡ç©¿å‚³çµ±æœé£¾ï¼Œæ°£æ°›ç†±é¬§" },
                        { time: "20:00", title: "çš‡å®¶å¤§é“æ•£æ­¥", icon: "fa-walking", desc: "å¾åŸå ¡å»£å ´æ²¿ Krakowskie PrzedmieÅ›cie æ•£æ­¥", note: "é€™æ˜¯è¯æ²™è–èª•ç‡ˆé£¾æœ€å¯†é›†çš„ä¸€æ¢è¡—ï¼Œé©åˆé£¯å¾Œæ¶ˆåŒ–" }
                    ],
                    restaurants: [
                        { name: "Zapiecek (Polskie Pierogarnie)", type: "æ™šé¤é¦–é¸", price: "zÅ‚ 40-60", rate: "4.4 (15,000+ è©•è«–)", desc: "è¯æ²™åˆ°è™•éƒ½æœ‰çš„é¤ƒå­ååº—ï¼Œé…¸æ¹¯ Å»urek å¿…é»", addr: "Old Town, Warsaw", url: "https://www.google.com/maps/search/?api=1&query=Zapiecek+Warsaw" },
                        { name: "SpecjaÅ‚y Regionalne", type: "åˆé¤/æ™šé¤å‚™é¸", price: "zÅ‚ 50-80", rate: "4.5 (3,300+ è©•è«–)", desc: "çš‡å®¶å¤§é“ä¸Šçš„ååº—ï¼Œé£Ÿæå¼·èª¿åœ¨åœ°å¤©ç„¶", addr: "Nowy Åšwiat 44, Warsaw", url: "https://www.google.com/maps/search/?api=1&query=Specjaly+Regionalne+Warsaw" },
                        { name: "GoÅ›ciniec Polskie Pierogi", type: "æ™šé¤å‚™é¸2", price: "zÅ‚ 40-70", rate: "4.6 (6,800+ è©•è«–)", desc: "å°±åœ¨è€åŸå€å…¥å£ï¼Œä¹Ÿæ˜¯åƒé¤ƒå­å’Œå‚³çµ±èœçš„å¥½åœ°æ–¹", addr: "Podwale 19, Warsaw", url: "https://www.google.com/maps/search/?api=1&query=Gosciniec+Polskie+Pierogi+Warsaw" }
                    ]
                },
                {
                    date: "12/29", day: "é€±ä¸€", city: "Warsaw",
                    events: [
                        { time: "09:30", title: "ç“¦æ´¥åŸºå…¬åœ’", icon: "fa-tree", desc: "æ°´ä¸Šå®®æ®¿ (é€±ä¸€ä¸é–‹æ”¾å…§éƒ¨) + è•­é‚¦é›•åƒ", note: "æ­ Bus 116/180 ç›´é” Åazienki KrÃ³lewskie" },
                        { time: "11:30", title: "ç§‘å­¸æ–‡åŒ–å®®", icon: "fa-building", desc: "è˜‡è¯å¼å»ºç¯‰åœ°æ¨™ï¼Œå¤©æ°£å¥½å¯ç™»é ‚", note: "æ­ Tram/Bus å›å¸‚ä¸­å¿ƒ Centrum ç«™" },
                        { time: "12:30", title: "åˆé¤ï¼šHala Koszyki", icon: "fa-utensils", desc: "æ™‚å°šç¾é£Ÿå»£å ´ï¼Œå†¬å¤©é¿å¯’é¦–é¸", note: "æ­ Tram å¾€ Politechnika æ–¹å‘ï¼Œæ­¥è¡Œå³é”" },
                        { time: "14:30", title: "POLIN åšç‰©é¤¨", icon: "fa-star-of-david", desc: "æ³¢è˜­çŒ¶å¤ªäººæ­·å²åšç‰©é¤¨", note: "æ­ Bus 111/180 å‰å¾€ MuranÃ³w å€" },
                        { time: "17:00", title: "è³¼ç‰©/ä¼‘æ¯", icon: "fa-shopping-bag", desc: "ZÅ‚ote Tarasy (é‡‘è‰²æ¢¯ç”°) è³¼ç‰©ä¸­å¿ƒ", note: "å°±åœ¨ä¸­å¤®è»Šç«™æ—ï¼Œå¯è²·æ³¢è˜­å“ç‰Œ Reserved" },
                        { time: "æ™šé¤", title: "å„€å¼æ„Ÿæ³¢è˜­èœ", icon: "fa-utensils", desc: "Stary Dom (è€æˆ¿å­é¤å»³)", note: "â˜… å‹™å¿…é ç´„ï¼Œé›¢å¸‚ä¸­å¿ƒç¨é ï¼Œå»ºè­°æ­ Tram 4/10/18 æˆ– Bolt" },
                        { time: "20:30", title: "è¯æ²™å¤œæ™¯", icon: "fa-city", desc: "å¦‚æœé‚„æœ‰é«”åŠ›ï¼Œå›å¸‚ä¸­å¿ƒçœ‹æ‘©å¤©æ¨“å¤œæ™¯", note: "Rondo ONZ é™„è¿‘çš„ç¾ä»£å»ºç¯‰ç¾¤æ™šä¸Šå¾ˆç¾" }
                    ],
                    restaurants: [
                        { name: "Stary Dom", type: "æ™šé¤é¦–é¸", price: "zÅ‚ 80-150", rate: "4.8 (10,000+ è©•è«–)", desc: "è¯æ²™æ¥µå¯Œç››åçš„å‚³çµ±é¤å»³ï¼Œå¡”å¡”ç‰›è‚‰æœƒæœ‰å»šå¸«æ¨è»Šåˆ°æ¡Œé‚Šç¾æ‹Œ", addr: "PuÅ‚awska 104/106, Warsaw", url: "https://www.google.com/maps/search/?api=1&query=Restauracja+Stary+Dom+Warsaw" },
                        { name: "Restauracja RÃ³Å¼ana", type: "æ™šé¤å‚™é¸1", price: "zÅ‚ 80-150", rate: "4.7 (4,500+ è©•è«–)", desc: "æ¥µåº¦å„ªé›…ã€å……æ»¿é®®èŠ±çš„æµªæ¼«é¤å»³ï¼Œé©åˆç´„æœƒ", addr: "Chocimska 7, Warsaw", url: "https://www.google.com/maps/search/?api=1&query=Restauracja+Rozana+Warsaw" },
                        { name: "Hala Koszyki", type: "åˆé¤/æ™šé¤å‚™é¸2", price: "zÅ‚ 30-70", rate: "4.6 (22,000+ è©•è«–)", desc: "ç”±è€å¸‚å ´æ”¹å»ºçš„æ™‚é«¦ç¾é£Ÿå¤§å»³ï¼Œæ°£æ°›å¾ˆå¥½ï¼Œé¸æ“‡å¤š", addr: "Koszykowa 63, Warsaw", url: "https://www.google.com/maps/search/?api=1&query=Hala+Koszyki+Warsaw" }
                    ]
                },
                {
                    date: "12/30", day: "é€±äºŒ", city: "War â†’ Wro",
                    events: [
                        { time: "06:30", title: "é€€æˆ¿/å‰å¾€è»Šç«™", icon: "fa-suitcase", desc: "å‰å¾€ Warszawa Centralna", note: "æ­ Bus 175/128 æˆ– Bolt è‡³è»Šç«™ï¼Œé ç•™æ™‚é–“æ‰¾æœˆå°" },
                        { time: "08:12", title: "ç«è»Šå‰å¾€å¼—ç¾…èŒ¨ç“¦å¤«", icon: "fa-train", desc: "08:12 Warsaw â†’ 12:44 WrocÅ‚aw GÅ‚Ã³wny", note: "ç´„ 4.5 å°æ™‚è»Šç¨‹ï¼Œè»Šä¸Šæœ‰é¤è»Šå¯è²·å’–å•¡" },
                        { time: "13:30", title: "é£¯åº—/åˆé¤", icon: "fa-hotel", desc: "Brassel Aparthotel æ”¾è¡Œæï¼Œå‘¨é‚Šç°¡å–®åƒ", note: "é£¯åº—é›¢è»Šç«™å¾ˆè¿‘ï¼Œæ­¥è¡Œå¯é”ã€‚å»èˆŠåŸæ­ Tram 2/5/11" },
                        { time: "15:00", title: "ç™½å¤©èˆŠåŸå·¡ç¦®", icon: "fa-walking", desc: "Rynek å»£å ´ã€å¸‚æ”¿å»³ã€è–ä¼Šè‰èç™½æ•™å ‚", note: "æ²¿è·¯å°‹æ‰¾å°çŸ®äºº (Dwarfs)" },
                        { time: "17:00", title: "ğŸ„ è–èª•é»ç‡ˆ", icon: "fa-star", desc: "ç•™åœ¨ Rynek çœ‹æ•´å€ç‡ˆé£¾äº®èµ·ï¼Œæœ€ç«¥è©±çš„ä¸€æ®µ", note: "å¼—ç¾…èŒ¨ç“¦å¤«çš„è–èª•å¸‚é›†è¢«è­½ç‚ºæ³¢è˜­æœ€ç¾" },
                        { time: "æ™šé¤", title: "Kurna Chata", icon: "fa-utensils", desc: "å‚³çµ±æ³¢è˜­èœ (å…è¨‚ä½)ï¼Œå°æœ¨å±‹é¢¨æ ¼", note: "å‚™é¸ï¼šPiwnica Åšwidnicka (èˆŠå¸‚æ”¿å»³åœ°ä¸‹é…’é¤¨)" },
                        { time: "20:00", title: "åº§å ‚å³¶å¤œéŠ", icon: "fa-church", desc: "æ•£æ­¥å» OstrÃ³w Tumski (åº§å ‚å³¶)", note: "æ™šä¸Šéå¸¸å¯§éœç¥è–ï¼Œé‹æ°£å¥½å¯ä»¥çœ‹åˆ°æç‡ˆäºº (Lamplighter)" }
                    ],
                    restaurants: [
                        { name: "Kurna Chata", type: "æ™šé¤é¦–é¸", price: "zÅ‚ 40-70", rate: "4.5 (6,200+ è©•è«–)", desc: "è£æ½¢åƒå‚³çµ±è¾²èˆï¼Œèœè‰²é“åœ°ï¼Œåƒ¹æ ¼è¦ªæ°‘", addr: "OdrzaÅ„ska 17, WrocÅ‚aw", url: "https://www.google.com/maps/search/?api=1&query=Kurna+Chata+Wroclaw" },
                        { name: "Piwnica Åšwidnicka", type: "æ™šé¤å‚™é¸1", price: "zÅ‚ 60-100", rate: "4.4 (1,700+ è©•è«–)", desc: "æ­æ´²æœ€å¤è€çš„é¤å»³ä¹‹ä¸€ï¼Œä½æ–¼èˆŠå¸‚æ”¿å»³åœ°ä¸‹", addr: "Rynek Ratusz 1, WrocÅ‚aw", url: "https://www.google.com/maps/search/?api=1&query=Piwnica+Swidnicka+Wroclaw" },
                        { name: "Konspira", type: "æ™šé¤å‚™é¸2", price: "zÅ‚ 40-70", rate: "4.7 (7,800+ è©•è«–)", desc: "å…±ç”¢æ™‚ä»£ä¸»é¡Œé¤å»³ï¼Œé£Ÿç‰©ä»½é‡å¤§åˆå¥½åƒï¼Œå¾ˆæœ‰ç‰¹è‰²", addr: "Plac Solny 11, WrocÅ‚aw", url: "https://www.google.com/maps/search/?api=1&query=Konspira+Wroclaw" }
                    ]
                },
                {
                    date: "12/31", day: "é€±ä¸‰", city: "Wro â†’ Pra",
                    events: [
                        { time: "09:00", title: "æ—©æ™¨æ•£æ­¥", icon: "fa-sun", desc: "Rynek (ç™½å¤©ç‰ˆ) â†’ Tumski Bridge â†’ æ•™å ‚å³¶", note: "å¦‚æœæ˜¨æ™šæ²’å»æ•™å ‚å³¶ï¼Œä»Šæ—©å¿…å»ã€‚æ­ Tram æˆ–æ­¥è¡Œ" },
                        { time: "11:30", title: "å›é£¯åº—å–è¡Œæ", icon: "fa-suitcase", desc: "æ•´ç†è¡Œæã€é€€æˆ¿", note: "å¾èˆŠåŸæ­ Tram å›è»Šç«™é™„è¿‘é£¯åº—" },
                        { time: "12:10", title: "å‰å¾€è»Šç«™", icon: "fa-train", desc: "æ­¥è¡Œæˆ– Bolt è‡³ WrocÅ‚aw GÅ‚Ã³wny", note: "æœ€æ™š 12:10 å‡ºé–€" },
                        { time: "13:13", title: "ç«è»Šå‰å¾€å¸ƒæ‹‰æ ¼", icon: "fa-train", desc: "13:13 å‡ºç™¼ â†’ å‰å¾€ Prague", note: "è·¨åœ‹ç§»å‹•ï¼Œå»ºè­°åœ¨è»Šç«™è²·ç°¡é¤èˆ‡å’–å•¡ä¸Šè»Š" }
                    ],
                    restaurants: [
                        { name: "è»Šç«™ç°¡é¤", type: "åˆé¤", price: "N/A", rate: "N/A", desc: "WrocÅ‚aw GÅ‚Ã³wny è»Šç«™å…§æœ‰å’–å•¡åº—èˆ‡é€Ÿé£Ÿåº—", addr: "WrocÅ‚aw GÅ‚Ã³wny", url: "#" }
                    ]
                }
            ];

            // ---------------- Asian Restaurant Data ----------------
            const asianRestaurants = [
                // Warsaw
                {
                    city: "Warsaw",
                    name: "PeÅ‚nÄ… ParÄ… na PowiÅ›lu",
                    cuisine: "Dim Sum / äºæ´²èåˆ",
                    price: "zÅ‚ 40-70",
                    rate: "4.5 (1800+)",
                    desc: "é›¢é£¯åº—æ­¥è¡Œç´„ 10-12 åˆ†é˜ï¼Œä½æ–¼ Elektrownia PowiÅ›le å…§ï¼Œç’°å¢ƒæ™‚é«¦ï¼Œè’¸é¤ƒéå¸¸æœ‰åã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Pelna+Para+Powisle"
                },
                {
                    city: "Warsaw",
                    name: "Thaisty",
                    cuisine: "æ³°å¼æ–™ç†",
                    price: "zÅ‚ 40-80",
                    rate: "4.6 (3000+)",
                    desc: "è¯æ²™æœ€ç´…çš„æ³°å¼é¤å»³ä¹‹ä¸€ï¼Œå£å‘³æ­£å®—ï¼Œè·é›¢é£¯åº—ç´„ 2 å…¬é‡Œ (å»ºè­°æ­ Bolt)ã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Thaisty+Warsaw"
                },
                {
                    city: "Warsaw",
                    name: "Uki Uki",
                    cuisine: "æ—¥å¼çƒé¾éºµ",
                    price: "zÅ‚ 35-60",
                    rate: "4.7 (3000+)",
                    desc: "æ‰‹å·¥çƒé¾éºµååº—ï¼Œæ¹¯é ­æ¿ƒéƒï¼Œç¶“å¸¸æ’éšŠã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Uki+Uki+Warsaw"
                },
                {
                    city: "Warsaw",
                    name: "To To Pho",
                    cuisine: "è¶Šå—æ²³ç²‰",
                    price: "zÅ‚ 30-50",
                    rate: "4.3 (2400+)",
                    desc: "æƒ³å–ç†±æ¹¯çš„é¦–é¸ï¼Œç‰›è‚‰æ²³ç²‰ä»½é‡è¶³ï¼ŒCPå€¼é«˜ã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=To+To+Pho+Warsaw"
                },
                // WrocÅ‚aw
                {
                    city: "WrocÅ‚aw",
                    name: "Osiem Misek",
                    cuisine: "äºæ´²èåˆ / åŒ…å­",
                    price: "zÅ‚ 30-60",
                    rate: "4.7 (3000+)",
                    desc: "å¼—ç¾…èŒ¨ç“¦å¤«å¿…åƒï¼åˆˆåŒ… (Bao) å’Œå»æ²™éºµéå¸¸å¼·ã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Osiem+Misek+Wroclaw"
                },
                {
                    city: "WrocÅ‚aw",
                    name: "Panda Ramen",
                    cuisine: "æ‹‰éºµ",
                    price: "zÅ‚ 35-55",
                    rate: "4.6 (2000+)",
                    desc: "ç•¶åœ°éå¸¸æœ‰åçš„æ‹‰éºµåº—ï¼Œæ¹¯é ­é¸æ“‡å¤šã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Panda+Ramen+Wroclaw"
                },
                {
                    city: "WrocÅ‚aw",
                    name: "Chingu Korean BBQ",
                    cuisine: "éŸ“å¼çƒ¤è‚‰",
                    price: "zÅ‚ 50-90",
                    rate: "4.7 (1500+)",
                    desc: "æƒ³å¤§å£åƒè‚‰çš„é¦–é¸ï¼Œè©•åƒ¹æ¥µé«˜çš„éŸ“å¼æ–™ç†ã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Chingu+Korean+BBQ+Wroclaw"
                },
                // KrakÃ³w
                {
                    city: "KrakÃ³w",
                    name: "Urara Sushi",
                    cuisine: "æ—¥å¼æ–™ç† / å£½å¸",
                    price: "zÅ‚ 50-100",
                    rate: "4.7 (1500+)",
                    desc: "èˆŠåŸå€å…§çš„é«˜å“è³ªæ—¥æ–™ï¼Œæƒ³å¿µç±³é£¯æ™‚çš„å¥½å»è™•ã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Urara+Sushi+Krakow"
                },
                {
                    city: "KrakÃ³w",
                    name: "KuKu Taiwanese Noodle",
                    cuisine: "å°ç£æ–™ç†",
                    price: "zÅ‚ 40-70",
                    rate: "4.6 (å¥½è©•)",
                    desc: "æ­£å®—å°ç£å‘³ï¼é¹¹é…¥é›ã€ç‰›è‚‰éºµã€çç å¥¶èŒ¶ï¼Œæƒ³å®¶æ™‚å¿…å»ã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=KuKu+Taiwanese+Noodle+Krakow"
                },
                {
                    city: "KrakÃ³w",
                    name: "PHO EVER",
                    cuisine: "è¶Šå—æ–™ç† / çå¥¶",
                    price: "zÅ‚ 40-60",
                    rate: "4.6 (3000+)",
                    desc: "ä½æ–¼çŒ¶å¤ªå€ï¼Œæƒ³å–çå¥¶ã€åƒPokeç¢—æˆ–ç†±é¨°é¨°è¶Šå—æ²³ç²‰çš„å¥½å»è™•ã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=PHO+EVER+Dajwor+25c+Krakow"
                },
                {
                    city: "KrakÃ³w",
                    name: "Ramen People",
                    cuisine: "æ‹‰éºµ",
                    price: "zÅ‚ 35-50",
                    rate: "4.6 (1200+)",
                    desc: "çŒ¶å¤ªå€é™„è¿‘çš„æ–‡é’æ‹‰éºµåº—ï¼Œé©åˆå†¬å¤©æš–èƒƒã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Ramen+People+Krakow"
                }
            ];

            // ---------------- Supermarket Data ----------------
            const polishSupermarkets = [
                {
                    name: "Asia Sources Supermarket (äºæ´²åŒ¯)",
                    type: "è¯æ²™äºè¶… (Google 4.8æ˜Ÿ)",
                    desc: "è¯æ²™è©•åƒ¹æ¥µé«˜çš„äºæ´²è¶…å¸‚ï¼Œå•†å“ç¨®é¡é½Šå…¨ï¼Œæœ‰æ–°é®®è”¬èœã€é›¶é£Ÿã€å†·å‡é£Ÿå“ã€‚",
                    note: "ä½æ–¼è¯æ²™ MokotÃ³w å€ï¼Œé›¢å¸‚ä¸­å¿ƒç¨é ï¼Œå»ºè­°æ­ Bolt å‰å¾€ã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Asia+Sources+Supermarket+Warsaw"
                },
                {
                    name: "Targowisko Bakalarska",
                    type: "è¯æ²™æœ€å¤§äºæ´²å¸‚é›†",
                    desc: "é€™ä¸æ˜¯å–®ä¸€è¶…å¸‚ï¼Œè€Œæ˜¯å‚³å¥‡çš„ã€Œäºæ´²å¸‚é›†ã€ï¼èšé›†äº†æ•¸åå®¶äºæ´²é£Ÿå“æ‰¹ç™¼åº—ã€ç”Ÿé®®è”¬æœã€æµ·é®®è‚‰å“ï¼Œé‚„æœ‰éå¸¸é“åœ°çš„è¶Šå—æ²³ç²‰æ”¤ã€‚",
                    note: "ä½æ–¼è¯æ²™ WÅ‚ochy å€ï¼Œé›¢å¸‚ä¸­å¿ƒè¼ƒé ï¼Œå¼·çƒˆå»ºè­°æ­ Boltã€‚é©åˆæƒ³å¤§æ¡è³¼çš„äººã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Targowisko+Bakalarska+Warsaw"
                },
                {
                    name: "Haechi Shop",
                    type: "å¸‚ä¸­å¿ƒéŸ“å¼è£œçµ¦ç«™",
                    desc: "çµåˆäº†éŸ“å¼è¡—é ­å°åƒ (Bistro) èˆ‡å•†å“è²©å”®å€ã€‚å¦‚æœæ‰¾ä¸åˆ°æ‹›ç‰Œï¼Œè«‹èªæ˜ 'HAECHI'ã€‚",
                    note: "åœ°å€ï¼šWidok 19, Warsaw (è¿‘ Centrum åœ°éµç«™)ã€‚éå¸¸æ–¹ä¾¿ï¼Œåƒå®Œé£¯é †ä¾¿è²·æ³¡éºµã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Haechi+Shop+Widok+19+Warsaw"
                },
                {
                    name: "Asia Deli",
                    type: "å…‹æ‹‰ç§‘å¤«äºè¶…",
                    desc: "å…‹æ‹‰ç§‘å¤«èˆŠåŸé™„è¿‘çš„äºæ´²é£Ÿå“åº—ï¼Œè©•åƒ¹ä¸éŒ¯ï¼Œé©åˆè£œçµ¦ã€‚",
                    note: "WÄ™gÅ‚owa 1, KrakÃ³w",
                    url: "https://www.google.com/maps/search/?api=1&query=Asia+Deli+Krakow"
                },
                {
                    name: "Kuchnie Åšwiata (ZÅ‚ote Tarasy)",
                    type: "é€²å£è¶…å¸‚ (é€£é–)",
                    desc: "ä½æ–¼ã€Œé‡‘è‰²æ¢¯ç”°ã€è³¼ç‰©ä¸­å¿ƒå…§ï¼Œæ˜¯æœ€å®¹æ˜“åˆ°é”çš„åˆ†åº—ã€‚å¦‚æœæƒ³è²·æ—¥éŸ“èª¿å‘³æ–™æˆ–é›¶é£Ÿï¼Œé€™è£¡å¾ˆæ–¹ä¾¿ã€‚",
                    note: "ä½ç½®æŒ‡å¼•ï¼šè«‹ä¸‹åˆ° B1ï¼Œé€šå¸¸åœ¨è¶…å¸‚æˆ–åœè»Šå ´å…¥å£é™„è¿‘ã€‚",
                    url: "https://www.google.com/maps/search/?api=1&query=Kuchnie+Swiata+Zlote+Tarasy"
                }
            ];

            // ---------------- Logic ----------------
            let activeDayIndex = 0;
            let supermarketRendered = false;
            let asianRendered = false;
            let currencyRendered = false;

            const dateTabs = document.getElementById('dateTabs');
            const scheduleContainer = document.getElementById('scheduleView');
            const restaurantContainer = document.getElementById('restaurantView');
            const currencyContainer = document.getElementById('currencyView');
            const asianRestaurantContainer = document.getElementById('asianRestaurantView');
            const supermarketContainer = document.getElementById('supermarketView');
            
            const navSchedule = document.getElementById('nav-schedule');
            const navRestaurant = document.getElementById('nav-restaurant');
            const navCurrency = document.getElementById('nav-currency');
            const navAsianFood = document.getElementById('nav-asianFood');
            const navSupermarket = document.getElementById('nav-supermarket');

            // Set up navigation event listeners
            document.getElementById('nav-schedule').addEventListener('click', () => switchView('schedule'));
            document.getElementById('nav-restaurant').addEventListener('click', () => switchView('restaurant'));
            document.getElementById('nav-currency').addEventListener('click', () => switchView('currency'));
            document.getElementById('nav-asianFood').addEventListener('click', () => switchView('asianFood'));
            document.getElementById('nav-supermarket').addEventListener('click', () => switchView('supermarket'));

            function switchView(viewName) {
                // Hide all views
                [scheduleContainer, restaurantContainer, currencyContainer, asianRestaurantContainer, supermarketContainer].forEach(el => el.classList.add('hidden'));
                
                // Deactivate all navs
                [navSchedule, navRestaurant, navCurrency, navAsianFood, navSupermarket].forEach(el => {
                    el.classList.remove('nav-active');
                    el.classList.add('nav-inactive');
                });

                if (viewName === 'schedule') {
                    scheduleContainer.classList.remove('hidden');
                    navSchedule.classList.add('nav-active'); navSchedule.classList.remove('nav-inactive');
                    dateTabs.classList.remove('hidden');
                } else if (viewName === 'restaurant') {
                    restaurantContainer.classList.remove('hidden');
                    navRestaurant.classList.add('nav-active'); navRestaurant.classList.remove('nav-inactive');
                    dateTabs.classList.remove('hidden');
                } else if (viewName === 'currency') {
                    currencyContainer.classList.remove('hidden');
                    navCurrency.classList.add('nav-active'); navCurrency.classList.remove('nav-inactive');
                    dateTabs.classList.add('hidden');
                    renderCurrency();
                } else if (viewName === 'asianFood') {
                    asianRestaurantContainer.classList.remove('hidden');
                    navAsianFood.classList.add('nav-active'); navAsianFood.classList.remove('nav-inactive');
                    dateTabs.classList.add('hidden');
                    renderAsianFood();
                } else if (viewName === 'supermarket') {
                    supermarketContainer.classList.remove('hidden');
                    navSupermarket.classList.add('nav-active'); navSupermarket.classList.remove('nav-inactive');
                    dateTabs.classList.add('hidden');
                    renderSupermarkets();
                }
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }

            function renderAll(index) {
                activeDayIndex = index;
                renderTabs();
                renderSchedule(index);
                renderRestaurants(index);
            }

            function renderTabs() {
                dateTabs.innerHTML = '';
                itinerary.forEach((item, index) => {
                    const btn = document.createElement('button');
                    const isActive = index === activeDayIndex;
                    btn.className = `px-5 py-2 mx-1 text-sm whitespace-nowrap rounded-t-lg transition-all duration-200 focus:outline-none ${isActive ? 'active-tab' : 'text-gray-500 hover:text-red-600'}`;
                    btn.innerHTML = `<div class="font-bold text-base">${item.date}</div><div class="text-xs uppercase">${item.day}</div>`;
                    btn.onclick = () => {
                        renderAll(index);
                        btn.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                        if (!restaurantContainer.classList.contains('hidden')) switchView('restaurant');
                        else if (!asianRestaurantContainer.classList.contains('hidden')) switchView('asianFood');
                        else if (!scheduleContainer.classList.contains('hidden')) switchView('schedule');
                        else switchView('schedule');
                    };
                    dateTabs.appendChild(btn);
                });
            }

            function renderSchedule(index) {
                const data = itinerary[index];
                scheduleContainer.innerHTML = `
                    <div class="mb-5 animate-fade-in mt-2">
                        <div class="flex items-center">
                            <h2 class="text-2xl font-bold text-gray-800 border-l-4 border-red-600 pl-3">${data.city}</h2>
                            <span class="ml-3 bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full font-medium">${data.date}</span>
                        </div>
                    </div>
                `;
                data.events.forEach(event => {
                    const card = document.createElement('div');
                    card.className = "bg-white p-5 rounded-xl shadow-sm mb-4 border border-gray-100 interactive-card relative overflow-hidden";
                    card.innerHTML = `
                        <div class="flex items-start z-10 relative">
                            <div class="flex-shrink-0 w-14 text-center mr-4">
                                <span class="block text-sm font-bold text-gray-500 font-mono">${event.time}</span>
                                <div class="mt-2 w-10 h-10 rounded-full bg-red-50 text-red-500 flex items-center justify-center mx-auto ring-4 ring-white shadow-sm">
                                    <i class="fas ${event.icon} text-lg"></i>
                                </div>
                                <div class="h-full w-0.5 bg-gray-100 mx-auto mt-2 -mb-8"></div>
                            </div>
                            <div class="flex-grow pb-2">
                                <h3 class="font-bold text-lg text-gray-800 leading-tight mb-1">${event.title}</h3>
                                <p class="text-sm text-gray-600 mb-3 leading-relaxed">${event.desc}</p>
                                ${event.note ? `
                                <div class="bg-gray-50 p-3 rounded-lg border border-gray-100 mt-2 flex items-start">
                                    <i class="fas fa-info-circle text-red-400 mt-0.5 mr-2 flex-shrink-0 text-sm"></i>
                                    <p class="text-xs text-gray-600 leading-relaxed">${event.note}</p>
                                </div>` : ''}
                            </div>
                        </div>
                    `;
                    scheduleContainer.appendChild(card);
                });
            }

            function renderRestaurants(index) {
                const data = itinerary[index];
                let content = `
                    <div class="mb-5 animate-fade-in mt-2">
                        <h2 class="text-2xl font-bold text-gray-800 border-l-4 border-red-600 pl-3">ç¾é£Ÿåœ°åœ–</h2>
                        <p class="text-xs text-gray-500 pl-4 mt-1">é»æ“Šä¸‹æ–¹æŒ‰éˆ•å¯ç›´æ¥å°èˆª</p>
                    </div>
                `;
                if (data.restaurants && data.restaurants.length > 0) {
                    data.restaurants.forEach(r => {
                        content += `
                            <div class="bg-white p-5 rounded-xl shadow-sm mb-4 border border-gray-100 flex flex-col relative overflow-hidden interactive-card">
                                <div class="flex justify-between items-start mb-2">
                                    <div class="w-full">
                                        <div class="flex justify-between items-start">
                                            <h3 class="font-bold text-lg text-gray-800 leading-tight">${r.name}</h3>
                                            <span class="bg-red-50 text-red-600 text-[10px] px-2 py-1 rounded-full font-bold whitespace-nowrap ml-2">${r.type}</span>
                                        </div>
                                        <div class="text-xs text-gray-500 mt-2 flex items-center space-x-3">
                                            <span><i class="fas fa-coins text-yellow-500 mr-1"></i>${r.price}</span>
                                            <span><i class="fas fa-star text-yellow-400 mr-1"></i>${r.rate}</span>
                                        </div>
                                    </div>
                                </div>
                                <hr class="border-gray-50 my-2">
                                <p class="text-sm text-gray-600 mb-4 line-clamp-2 leading-relaxed">${r.desc}</p>
                                <a href="${r.url}" target="_blank" class="mt-auto w-full bg-white text-red-600 border border-red-200 py-2.5 rounded-lg text-center font-medium text-sm hover:bg-red-50 active:bg-red-100 transition flex items-center justify-center">
                                    <i class="fas fa-location-arrow mr-2 text-red-500"></i> å°èˆªå»é€™è£¡
                                </a>
                            </div>
                        `;
                    });
                } else {
                    content += `
                        <div class="text-center py-16 text-gray-300 flex flex-col items-center">
                            <div class="w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-4">
                                <i class="fas fa-utensils text-3xl text-gray-300"></i>
                            </div>
                            <p class="text-gray-400 font-medium">æœ¬æ—¥ä»¥è¡Œç¨‹ç‚ºä¸»</p>
                            <p class="text-xs text-gray-400 mt-1">å»ºè­°åœ¨æ™¯é»å‘¨é‚Šéš¨æ„è¦“é£Ÿ</p>
                        </div>
                    `;
                }
                restaurantContainer.innerHTML = content;
            }

            function renderCurrency() {
                if (currencyRendered) return;
                
                // Approximate Rates (Dec 2024 / Jan 2025 Context)
                const RATE_PLN_TO_TWD = 8.05; // 1 PLN = 8.05 TWD
                const RATE_PLN_TO_CZK = 5.85; // 1 PLN = 5.85 CZK
                
                const html = `
                    <div class="mb-5 animate-fade-in mt-2">
                        <h2 class="text-2xl font-bold text-gray-800 border-l-4 border-red-600 pl-3">åŒ¯ç‡æ›ç®—</h2>
                        <p class="text-xs text-gray-500 pl-4 mt-1">è¼¸å…¥ä»»ä¸€æ¬„ä½å³å¯è‡ªå‹•æ›ç®— (åŒ¯ç‡åƒ…ä¾›åƒè€ƒ)</p>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6">
                        <!-- PLN Input -->
                        <div class="mb-5">
                            <label class="block text-gray-600 text-sm font-bold mb-2 flex justify-between">
                                <span>ğŸ‡µğŸ‡± æ³¢è˜­èŒ²ç¾…æ (PLN)</span>
                                <span class="text-red-500 text-xs">ç›®å‰ä½¿ç”¨ä¸­</span>
                            </label>
                            <div class="relative">
                                <span class="absolute left-4 top-3 text-gray-400">zÅ‚</span>
                                <input type="number" id="input-pln" inputmode="decimal" class="currency-input w-full bg-gray-50 text-gray-800 text-xl font-bold py-3 pl-10 pr-4 rounded-lg border border-gray-200 focus:outline-none focus:bg-white" placeholder="0">
                            </div>
                        </div>

                        <!-- CZK Input -->
                        <div class="mb-5">
                            <label class="block text-gray-600 text-sm font-bold mb-2">ğŸ‡¨ğŸ‡¿ æ·å…‹å…‹æœ— (CZK)</label>
                            <div class="relative">
                                <span class="absolute left-4 top-3 text-gray-400">KÄ</span>
                                <input type="number" id="input-czk" inputmode="decimal" class="currency-input w-full bg-gray-50 text-gray-800 text-xl font-bold py-3 pl-10 pr-4 rounded-lg border border-gray-200 focus:outline-none focus:bg-white" placeholder="0">
                            </div>
                        </div>

                        <!-- TWD Input -->
                        <div class="mb-2">
                            <label class="block text-gray-600 text-sm font-bold mb-2">ğŸ‡¹ğŸ‡¼ æ–°å°å¹£ (TWD)</label>
                            <div class="relative">
                                <span class="absolute left-4 top-3 text-gray-400">NT$</span>
                                <input type="number" id="input-twd" inputmode="decimal" class="currency-input w-full bg-gray-50 text-gray-800 text-xl font-bold py-3 pl-12 pr-4 rounded-lg border border-gray-200 focus:outline-none focus:bg-white" placeholder="0">
                            </div>
                        </div>
                    </div>

                    <!-- Cheat Sheet -->
                    <div class="mb-5 animate-fade-in">
                        <h3 class="text-lg font-bold text-gray-700 mb-3 pl-2 border-l-4 border-gray-300">å¸¸ç”¨é‡‘é¡é€ŸæŸ¥</h3>
                        <div class="bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100">
                            <table class="min-w-full text-sm">
                                <thead class="bg-gray-100 text-gray-600">
                                    <tr>
                                        <th class="py-3 px-4 text-left font-bold">PLN ğŸ‡µğŸ‡±</th>
                                        <th class="py-3 px-4 text-left font-bold">TWD ğŸ‡¹ğŸ‡¼</th>
                                        <th class="py-3 px-4 text-left font-bold">CZK ğŸ‡¨ğŸ‡¿</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-100">
                                    <tr class="hover:bg-gray-50 transition"><td class="py-3 px-4 font-bold text-red-600">5 zÅ‚</td><td class="py-3 px-4">~ 40</td><td class="py-3 px-4">~ 29</td></tr>
                                    <tr class="hover:bg-gray-50 transition"><td class="py-3 px-4 font-bold text-red-600">10 zÅ‚</td><td class="py-3 px-4">~ 81</td><td class="py-3 px-4">~ 59</td></tr>
                                    <tr class="hover:bg-gray-50 transition"><td class="py-3 px-4 font-bold text-red-600">20 zÅ‚</td><td class="py-3 px-4">~ 161</td><td class="py-3 px-4">~ 117</td></tr>
                                    <tr class="hover:bg-gray-50 transition"><td class="py-3 px-4 font-bold text-red-600">50 zÅ‚</td><td class="py-3 px-4">~ 403</td><td class="py-3 px-4">~ 293</td></tr>
                                    <tr class="hover:bg-gray-50 transition"><td class="py-3 px-4 font-bold text-red-600">100 zÅ‚</td><td class="py-3 px-4">~ 805</td><td class="py-3 px-4">~ 585</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="text-[10px] text-gray-400 mt-2 text-center">* åŒ¯ç‡ä¼°ç®—ï¼š1 PLN â‰ˆ ${RATE_PLN_TO_TWD} TWD, 1 PLN â‰ˆ ${RATE_PLN_TO_CZK} CZK</p>
                    </div>
                `;
                currencyContainer.innerHTML = html;

                // Bind Events
                const inputPln = document.getElementById('input-pln');
                const inputCzk = document.getElementById('input-czk');
                const inputTwd = document.getElementById('input-twd');

                function updateFromPln() {
                    const pln = parseFloat(inputPln.value);
                    if (!isNaN(pln)) {
                        inputTwd.value = (pln * RATE_PLN_TO_TWD).toFixed(0);
                        inputCzk.value = (pln * RATE_PLN_TO_CZK).toFixed(1);
                    } else {
                        inputTwd.value = ''; inputCzk.value = '';
                    }
                }

                function updateFromCzk() {
                    const czk = parseFloat(inputCzk.value);
                    if (!isNaN(czk)) {
                        const pln = czk / RATE_PLN_TO_CZK;
                        inputPln.value = pln.toFixed(2);
                        inputTwd.value = (pln * RATE_PLN_TO_TWD).toFixed(0);
                    } else {
                        inputPln.value = ''; inputTwd.value = '';
                    }
                }

                function updateFromTwd() {
                    const twd = parseFloat(inputTwd.value);
                    if (!isNaN(twd)) {
                        const pln = twd / RATE_PLN_TO_TWD;
                        inputPln.value = pln.toFixed(2);
                        inputCzk.value = (pln * RATE_PLN_TO_CZK).toFixed(1);
                    } else {
                        inputPln.value = ''; inputCzk.value = '';
                    }
                }

                inputPln.addEventListener('input', updateFromPln);
                inputCzk.addEventListener('input', updateFromCzk);
                inputTwd.addEventListener('input', updateFromTwd);
                
                currencyRendered = true;
            }

            function renderAsianFood() {
                if (asianRendered) return;
                let content = `
                    <div class="mb-5 animate-fade-in mt-2">
                        <h2 class="text-2xl font-bold text-gray-800 border-l-4 border-red-600 pl-3">äºæ´²ç¾é£Ÿåœ°åœ–</h2>
                        <p class="text-xs text-gray-500 pl-4 mt-1">æƒ³å¿µäºæ´²å‘³æ™‚çš„æ•‘æ˜Ÿ (Google è©•è«– >1000)</p>
                    </div>
                `;
                
                let currentCity = "";
                asianRestaurants.forEach(item => {
                    if (item.city !== currentCity) {
                        currentCity = item.city;
                        content += `
                            <div class="sticky top-[105px] z-20 bg-gray-50/95 backdrop-blur py-2 mb-2">
                                <h3 class="text-sm font-bold text-gray-500 uppercase tracking-wider pl-1 flex items-center">
                                    <i class="fas fa-map-marker-alt mr-2 text-red-400"></i>${currentCity}
                                </h3>
                            </div>
                        `;
                    }

                    content += `
                        <div class="bg-white p-5 rounded-xl shadow-sm mb-4 border border-gray-100 flex flex-col relative overflow-hidden interactive-card">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800 leading-tight">${item.name}</h3>
                                    <div class="text-xs mt-2 flex flex-wrap gap-2">
                                        <span class="bg-blue-50 text-blue-600 px-2 py-1 rounded font-medium">${item.cuisine}</span>
                                        <span class="text-gray-500 flex items-center px-1"><i class="fas fa-star text-yellow-400 text-xs mr-1"></i> ${item.rate}</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-4 leading-relaxed border-t border-gray-50 pt-2 mt-1">${item.desc}</p>
                            <a href="${item.url}" target="_blank" class="mt-auto w-full bg-red-600 text-white py-2.5 rounded-lg text-center font-medium text-sm hover:bg-red-700 active:bg-red-800 transition shadow-sm flex items-center justify-center">
                                <i class="fas fa-location-arrow mr-2"></i> å°èˆªå»é€™è£¡
                            </a>
                        </div>
                    `;
                });
                asianRestaurantContainer.innerHTML = content;
                asianRendered = true;
            }

            function renderSupermarkets() {
                if (supermarketRendered) return;
                let content = `
                    <div class="mb-5 animate-fade-in mt-2">
                        <h2 class="text-2xl font-bold text-gray-800 border-l-4 border-red-600 pl-3">äºæ´²è¶…å¸‚æŒ‡å—</h2>
                        <p class="text-xs text-gray-500 pl-4 mt-1">æ³¢è˜­ç²¾é¸é«˜è©•åƒ¹äºè¶… (Google 4.5æ˜Ÿ+)</p>
                    </div>
                `;
                polishSupermarkets.forEach(item => {
                    content += `
                        <div class="bg-white p-5 rounded-xl shadow-sm mb-4 border border-gray-100 flex flex-col relative overflow-hidden interactive-card">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800 leading-tight">${item.name}</h3>
                                    <div class="text-xs mt-2 flex flex-wrap gap-2">
                                        <span class="bg-green-100 text-green-700 px-2 py-0.5 rounded font-bold">${item.type}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-yellow-50 p-3 rounded-lg border border-yellow-100 my-3">
                                <p class="text-xs text-yellow-800 font-medium flex items-start leading-relaxed">
                                    <i class="fas fa-lightbulb mt-0.5 mr-2 flex-shrink-0"></i>
                                    <span>${item.note}</span>
                                </p>
                            </div>
                            <p class="text-sm text-gray-600 mb-4 leading-relaxed">${item.desc}</p>
                            <a href="${item.url}" target="_blank" class="mt-auto w-full bg-white text-gray-700 border border-gray-200 py-2.5 rounded-lg text-center font-medium text-sm hover:bg-gray-50 active:bg-gray-100 transition shadow-sm flex items-center justify-center">
                                <i class="fab fa-google mr-2 text-blue-500"></i> æœå°‹é€™å®¶åº—
                            </a>
                        </div>
                    `;
                });
                supermarketContainer.innerHTML = content;
                supermarketRendered = true;
            }

            // Initialize
            renderAll(0);
        });
    </script>
</body>
</html>
